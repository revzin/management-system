
======= Странички ======

Домашняя
	

Админка
	- Страничка со всем
	- Инсталлятор

Сопровождение изделия
	- Страничка всех заказов (для руководителя есть кнопка "создать")
	- Страничка изделия 
		-- Руководитель: все кнопочки
		-- Монтажник: формирование BOM

Склад
	- Страничка склада
	- Страничка хреновины на складе
	- Добавить хреновину на складе

Морды
	- Все морды
	- Новая морда
	- Редактирование/просмотр морды -> личная страничка
		Свою морду могут посмотреть все, всем можно менять себе пароль

Логин
		
	
======== Роли ==========

Админ: видит админку, всё остальное только читать
	- Дропнуть БД 
	- Залить БД тестовым говном
	- Выполнить произвольный запрос
	- Инсталлировать БД
	- Жёстко удалить аккаунт

Кадровик: видит "морды", всё остальное только читать
	- Новый юзер
	- Уволить
	- Взять обратно
	- Запись в личное дело
	- Сгенерить личное дело
	
Монтажник: видит "изделие", читает "склад"
	- Смотреть заказы на сборку
	- Загрузить типовой BOM
	- Сохранить типовой BOM
	- Выписать говнеца со склада
	- Протыкать кнопочки, что говнецо установлено
	- Отметка о том, что всё хорошо
	- Отмена
	- На готовое изделие: ведомость расхода
	
Контролёр: видит "изделие"
	- Ввести контролируемое значение
	- (Авто) Сгенерить отчёт о ходе производства
	- (Авто) Выписать изделие в готовые
	- Отмена
	
Складской специалист: видит "склад", просмотр "изделия"
	- Добавлять на склад
	- Одобрять запросики монтажника
	- Списывать со склада
	
Руководитель:
	- Всё и везде, кроме админа
	- Создавать заказы
	- Генерить отчёт по заказам

======== ==========

Ход изделия по АСУшечке:
	- Создание заказа								STATE_NEW
	- Выписка изделий со склада						STATE_BOM_ORDER
	- Одобрение кладовщиком							STATE_ASSEMBLY
	- Монтажник протыкал сборку и нажал "ушло"		STATE_ASMY_COMPLETE
	- Контролёр промерил и выпустил					STATE_FINISH_OK
	- Отменено (брак или другие причины)			STATE_FINISH_FAILURE
	

Роли:
	- ROLE_MGR		Менеджер
	- ROLE_ASMY		Монтажник
	- ROLE_CTL		Контролёр
	- ROLE_HR		Кадровик
	- ROLE_WM		Склад
	- ROLE_ADM		Админ
	
Таблички:
	
	employee
	Сотрудник:
		- Имяфамлиятелефонимейл
		- Роль
		- Ссылка на табличку с записями в Л. Д. (pers_journal nested_table)
		- Зарплата
		- Логин
		- Пароль
	
	journal_t
	Записи в Л. Д. (по одной на сотрудника)
		- Дата
		- Текст
		- Кто написал (ID)
		
	unit
	Изделие:
		- Состояние
		- Когда заказано
		- Кто создал заказ
		- Монтажник
		- Ссылка на BOM (nested table)
	
	ams_nesttype_bom
	BOM:
		- Ссылка на компонент со склада (id)
		- Количество установленных (инициализируется нулями)
		- Необходимое количество
		
	warehouse
	Компоненты на складе:
		- Название
		- Тип: TYPE_C TYPE_R TYPE_L TYPE_DA TYPE_DD TYPE_X TYPE_PART TYPE_ASMY
		- Сколько есть
		- Изготовитель
	
	bom_register
	Все BOMы:
		- Описание
		- Кто добавил
		- Название таблички
		- Тип BOM: BOMTYPE_WORKING, BOMTYPE_TEMPLATE
	
	
Путь BOM-а по миру:
	BOM копируется из типового, используемые заполняются нулями
	Монтажник вводит количество установленных
	BOM проверяется
	Монтажник жмёт передачу
	BOM freeзится
	
	
	
==== Прчоее ====
При списании изделия DROPается его BOM
Сотруднику при создании немедленно записывается в личное дело:
ПРИНЯТ на работу кадровиком таким-то тогда-то

При загрузке каждой странички проверяется, что 
	1) есть связь с оркалом
	2) если есть, то проверяется существование основных таблиц
	3) если нет, то редирект на инсталлятор
	